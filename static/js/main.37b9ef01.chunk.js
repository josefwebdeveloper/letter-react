(this.webpackJsonpletters=this.webpackJsonpletters||[]).push([[0],{19:function(e,t,n){e.exports=n(37)},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},33:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(6),o=n.n(c),i=(n(24),n(25),n(3)),l=(n(26),n(27),n(2)),u="ARTICLE_RANDOM_REQUEST",s="ARTICLE_RANDOM_SUCCESS",m="ARTICLE_RANDOM_FAILURE",f="ARTICLE_VOICE_SUCCESS",d="ARTICLE_VOICE_FAILURE",E="ARTICLE_CLEAR",v=n(18),h=Object(v.a)(),p="https://letter-to.herokuapp.com",b={getRandom:function(){return fetch("".concat(p,"/article/random"),{method:"GET"}).then(g)},createArticle:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("".concat(p,"/article/create"),t).then(g)}};function g(e){return e.text().then((function(e){return e&&JSON.parse(e)}))}var O={random:function(){return function(e){e({type:u}),b.getRandom().then((function(t){return e(function(e){return{type:s,article:e}}(t.data.article[0]))}),(function(t){return e(function(e){return{type:m,error:e}}(t.toString()))}))}},successVoice:function(e){return{type:f,voice:e}},errorVoice:function(e){return{type:d,voice:e}}};var S="Daniel",y="Carmit",C={getTimer:function(){return fetch("".concat("https://letter-to.herokuapp.com","/timer"),{method:"GET"}).then(N)}};function N(e){return e.text().then((function(e){return e&&JSON.parse(e)}))}var j=function(e){var t=new SpeechSynthesisUtterance,n=speechSynthesis.getVoices(),c=Object(r.useState)(!1),o=Object(i.a)(c,2),u=o[0],s=o[1],m=Object(l.c)((function(e){return e.article})),f=(Object(l.c)((function(e){return e.voice})),Object(l.b)());Object(r.useEffect)((function(){f(O.random()),document.querySelector('[name="voice"]')}),[]);var d=function(e){if(console.log(e),console.log(S,y),e!==S&&e!==y)f(O.random());else{var r=e;t.voice=n.find((function(e){return e.name===r}))}setTimeout((function(){t.text=document.getElementById("tsx").innerHTML,speechSynthesis.speak(t)}),3e3)};return a.a.createElement("div",{id:"message",className:" "},a.a.createElement("div",null,a.a.createElement("button",{className:"btn btn-primary",onClick:function(){s(!u)}},"Voice")),a.a.createElement("div",{className:u?"show":"none"},a.a.createElement("button",{className:"btn btn-primary",onClick:function(){return d(S)}},"English"),a.a.createElement("button",{className:"btn btn-primary",onClick:function(){return d(y)}},"Hebrew")),a.a.createElement("div",{className:"border border-1 child-borders note  "},a.a.createElement("div",{id:"tttt",className:""},m.loading&&a.a.createElement("em",null,"Loading random-article..."),m.error&&a.a.createElement("span",{className:"text-danger"},"ERROR: ",m.error),m.randomArticle&&a.a.createElement("div",{id:"tsx",className:"note"},m.randomArticle.article))),a.a.createElement("button",{className:"btn btn-primary",onClick:d},"Next"))},T=n(7),R=n(14),A=(n(33),"ARTICLE_POST_REQUEST"),w="ARTICLE_POST_SUCCESS",_="ARTICLE_POST_FAILURE",I="ARTICLE_FORM",L={postArticle:function(e){return function(t){t(function(e){return{type:A,article:e}}(e)),b.createArticle(e).then((function(e){t(function(e){return{type:w,article:e}}(e)),h.push("/")}),(function(e){t(function(e){return{type:_,error:e}}(e.toString()))}))}}};var k=function(){var e=Object(r.useState)({article:"Dear WebSite,"}),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(!1),u=Object(i.a)(o,2),s=(u[0],u[1]),m=n.article,f=Object(l.b)();return Object(r.useEffect)((function(){f({type:I})}),[]),a.a.createElement("div",{id:"form"},a.a.createElement("div",{className:" "},a.a.createElement("form",{id:"article-text",name:"form",onSubmit:function(e){e.preventDefault(),s(!0),m&&"Dear WebSite,"!==m&&(f(L.postArticle({article:m,type:"crazy"})),console.log(e.target),c({article:"Dear WebSite,"}))}},a.a.createElement("div",{className:"form-group"},a.a.createElement("textarea",{className:"note",id:"article-text",name:"article",value:m,onChange:function(e){var t=e.target,n=t.name,r=t.value;c((function(e){return Object(R.a)({},e,Object(T.a)({},n,r))}))}})),a.a.createElement("div",{className:"form-group"},a.a.createElement("button",{className:"btn btn-primary"},"Send")))))},x=n(5),D=n.n(x),U=(n(35),function(e){var t=Object(r.useState)(864e5),n=Object(i.a)(t,2),c=n[0],o=n[1];return Object(r.useEffect)((function(){c>0&&setTimeout((function(){return o(c-1e3)}),1e3)}),[c]),a.a.createElement("div",{className:"timer"},a.a.createElement("div",null,"Countdown: ",D.a.duration(c-e.startCounter,"milliseconds").format("hh:mm:ss")))}),M=(n(36),function(){return a.a.createElement("div",{className:"footer border border-1 note"},a.a.createElement("div",null,a.a.createElement("a",{href:"https://ko-fi.com/buy_me_cofee"},"Buy me a coffee on Ko-fi "),a.a.createElement("a",{href:"https://www.patreon.com/support_startup"},"\xb7Support me on Patreon")))}),V=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){C.getTimer().then((function(e){console.log(e);var t=e.data.timer[0].startTime;console.log(t);var n=new Date;console.log(n);var r=D()(n).diff(D()(t));console.log(r);var a=864e5-r,o=D.a.duration(a).format("hh:mm:ss");console.log(o),c(r)}))}),[]),a.a.createElement("div",null,a.a.createElement("div",{id:"header",className:"full-rotate"},a.a.createElement("h1",null,"This website will self destruct ",a.a.createElement("span",null,a.a.createElement(U,{startCounter:n}))),a.a.createElement(j,null)),a.a.createElement("div",{id:"header",className:"full-rotate"},a.a.createElement(k,null)),a.a.createElement("div",{id:"header",className:"full-rotate"},a.a.createElement(M,null)))};var W=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(V,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=n(4),P=n(15),B=n(16);var F=Object(J.combineReducers)({article:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return{loading:!0};case s:return{randomArticle:t.article};case m:return{error:t.error};case E:return{};default:return e}},form:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{post:!0};case w:case _:case I:return{};default:return e}},voice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{voice:t.voice};case d:return{error:t.error};default:return e}}}),G=n(17),H=Object(B.createLogger)(),Q=Object(J.createStore)(F,Object(G.composeWithDevTools)(Object(J.applyMiddleware)(P.a,H)));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(l.a,{store:Q},a.a.createElement(W,null)),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.37b9ef01.chunk.js.map