(this.webpackJsonpletters=this.webpackJsonpletters||[]).push([[0],{19:function(e,t,n){e.exports=n(37)},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},33:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(5),o=n.n(c),i=(n(24),n(25),n(26),n(4)),l=(n(27),n(2)),u="ARTICLE_RANDOM_REQUEST",s="ARTICLE_RANDOM_SUCCESS",m="ARTICLE_RANDOM_FAILURE",d="ARTICLE_VOICE_SUCCESS",f="ARTICLE_VOICE_FAILURE",E="ARTICLE_CLEAR",v=n(18),b=Object(v.a)(),h="https://letter-to.herokuapp.com",p={getRandom:function(){return fetch("".concat(h,"/article/random"),{method:"GET"}).then(O)},createArticle:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("".concat(h,"/article/create"),t).then(O)}};function O(e){return e.text().then((function(e){return e&&JSON.parse(e)}))}var S={random:function(){return function(e){e({type:u}),p.getRandom().then((function(t){return e(function(e){return{type:s,article:e}}(t.data.article[0]))}),(function(t){return e(function(e){return{type:m,error:e}}(t.toString()))}))}},successVoice:function(e){return{type:d,voice:e}},errorVoice:function(e){return{type:f,voice:e}}};var g=function(e){var t=new SpeechSynthesisUtterance,n=speechSynthesis.getVoices(),c=Object(r.useState)(!1),o=Object(i.a)(c,2),u=o[0],s=o[1],m=!1;console.log(m);var d=Object(l.c)((function(e){return e.article})),f=(Object(l.c)((function(e){return e.voice})),Object(l.b)());Object(r.useEffect)((function(){f(S.random()),document.querySelector('[name="voice"]')}),[]);var E=function(e){e||f(S.random());var r=e;t.voice=n.find((function(e){return e.name===r})),setTimeout((function(){console.log(document.getElementById("tsx").innerHTML),t.text=document.getElementById("tsx").innerHTML,speechSynthesis.speak(t)}),2e3)};return a.a.createElement("div",{id:"message",className:" "},a.a.createElement("div",null,a.a.createElement("button",{className:"btn btn-primary",onClick:function(){s(!u)}},"Voice")),a.a.createElement("div",{className:u?"show":"none"},a.a.createElement("button",{className:"btn btn-primary",onClick:function(){return E("Daniel")}},"English"),a.a.createElement("button",{className:"btn btn-primary",onClick:function(){return E("Carmit")}},"Hebrew")),a.a.createElement("div",{className:"border border-1 child-borders note  "},a.a.createElement("div",{id:"tttt",className:""},d.loading&&a.a.createElement("em",null,"Loading random-article..."),d.error&&a.a.createElement("span",{className:"text-danger"},"ERROR: ",d.error),d.randomArticle&&a.a.createElement("div",{id:"tsx",className:"note"},d.randomArticle.article))),a.a.createElement("button",{className:"btn btn-primary",onClick:E},"Next"))},y=n(6),C=n(14),N=(n(33),"ARTICLE_POST_REQUEST"),R="ARTICLE_POST_SUCCESS",A="ARTICLE_POST_FAILURE",j="ARTICLE_FORM",T={postArticle:function(e){return function(t){t(function(e){return{type:N,article:e}}(e)),p.createArticle(e).then((function(e){t(function(e){return{type:R,article:e}}(e)),b.push("/")}),(function(e){t(function(e){return{type:A,error:e}}(e.toString()))}))}}};var w=function(){var e=Object(r.useState)({article:"Dear WebSite,"}),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(!1),u=Object(i.a)(o,2),s=(u[0],u[1]),m=n.article,d=Object(l.b)();return Object(r.useEffect)((function(){d({type:j})}),[]),a.a.createElement("div",{id:"form"},a.a.createElement("div",{className:" "},a.a.createElement("form",{id:"article-text",name:"form",onSubmit:function(e){e.preventDefault(),s(!0),m&&"Dear WebSite,"!==m&&(d(T.postArticle({article:m,type:"crazy"})),console.log(e.target),c({article:"Dear WebSite,"}))}},a.a.createElement("div",{className:"form-group"},a.a.createElement("textarea",{className:"note",id:"article-text",name:"article",value:m,onChange:function(e){var t=e.target,n=t.name,r=t.value;c((function(e){return Object(C.a)({},e,Object(y.a)({},n,r))}))}})),a.a.createElement("div",{className:"form-group"},a.a.createElement("button",{className:"btn btn-primary"},"Send")))))},I=n(8),L=n.n(I),_=(n(35),function(){var e=Object(r.useState)(86400),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){n>0&&setTimeout((function(){return c(n-1)}),1e3)}),[n]),a.a.createElement("div",{className:"timer"},a.a.createElement("div",null,"Countdown: ",L.a.duration(n,"seconds").format("hh:mm:ss")))}),x=(n(36),function(){return a.a.createElement("div",{className:"footer border border-1 note"},a.a.createElement("div",null,a.a.createElement("a",{href:""},"Buy me a coffee on Ko-fi "),"Buy me a coffee on Ko-fi \xb7 Support me on Patreon"))}),k=function(){return a.a.createElement("div",null,a.a.createElement("div",{id:"header",className:"full-rotate"},a.a.createElement("h1",null,"This website will self destruct ",a.a.createElement("span",null,a.a.createElement(_,null))),a.a.createElement(g,null)),a.a.createElement("div",{id:"header",className:"full-rotate"},a.a.createElement(w,null)),a.a.createElement("div",{id:"header",className:"full-rotate"},a.a.createElement(x,null)))};var D=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=n(3),M=n(15),B=n(16);var V=Object(U.combineReducers)({article:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return{loading:!0};case s:return{randomArticle:t.article};case m:return{error:t.error};case E:return{};default:return e}},form:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{post:!0};case R:case A:case j:return{};default:return e}},voice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{voice:t.voice};case f:return{error:t.error};default:return e}}}),W=n(17),P=Object(B.createLogger)(),F=Object(U.createStore)(V,Object(W.composeWithDevTools)(Object(U.applyMiddleware)(M.a,P)));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(l.a,{store:F},a.a.createElement(D,null)),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.91b6e6f4.chunk.js.map