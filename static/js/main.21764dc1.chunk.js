(this.webpackJsonpletters=this.webpackJsonpletters||[]).push([[0],{19:function(e,t,n){e.exports=n(37)},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},33:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(6),o=n.n(c),i=(n(24),n(25),n(26),n(4)),u=(n(27),n(2)),l="ARTICLE_RANDOM_REQUEST",s="ARTICLE_RANDOM_SUCCESS",m="ARTICLE_RANDOM_FAILURE",f="ARTICLE_VOICE_SUCCESS",E="ARTICLE_VOICE_FAILURE",d="ARTICLE_CLEAR",v=n(18),p=Object(v.a)(),h="https://letter-to.herokuapp.com",b={getRandom:function(){return fetch("".concat(h,"/article/random"),{method:"GET"}).then(S)},createArticle:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("".concat(h,"/article/create"),t).then(S)}};function S(e){return e.text().then((function(e){return e&&JSON.parse(e)}))}var R={random:function(){return function(e){e({type:l}),b.getRandom().then((function(t){return e(function(e){return{type:s,article:e}}(t.data.article[0]))}),(function(t){return e(function(e){return{type:m,error:e}}(t.toString()))}))}},successVoice:function(e){return{type:f,voice:e}},errorVoice:function(e){return{type:E,voice:e}}};var T="Daniel",g="Carmit",O={getTimer:function(){return fetch("".concat("https://letter-to.herokuapp.com","/timer"),{method:"GET"}).then(C)}};function C(e){return e.text().then((function(e){return e&&JSON.parse(e)}))}var y=function(e){var t=new SpeechSynthesisUtterance,n=speechSynthesis.getVoices(),c=Object(r.useState)(!1),o=Object(i.a)(c,2),l=o[0],s=o[1],m=Object(u.c)((function(e){return e.article})),f=(Object(u.c)((function(e){return e.voice})),Object(u.b)());Object(r.useEffect)((function(){f(R.random()),document.querySelector('[name="voice"]')}),[]);var E=function(e){if(console.log(e),console.log(T,g),e!==T&&e!==g)f(R.random());else{var r=e;t.voice=n.find((function(e){return e.name===r}))}setTimeout((function(){t.text=document.getElementById("tsx").innerHTML,speechSynthesis.speak(t)}),2e3)};return a.a.createElement("div",{id:"message",className:" "},a.a.createElement("div",null,a.a.createElement("button",{className:"btn btn-primary",onClick:function(){s(!l)}},"Voice")),a.a.createElement("div",{className:l?"show":"none"},a.a.createElement("button",{className:"btn btn-primary",onClick:function(){return E(T)}},"English"),a.a.createElement("button",{className:"btn btn-primary",onClick:function(){return E(g)}},"Hebrew")),a.a.createElement("div",{className:"border border-1 child-borders note  "},a.a.createElement("div",{id:"tttt",className:""},m.loading&&a.a.createElement("em",null,"Loading random-article..."),m.error&&a.a.createElement("span",{className:"text-danger"},"ERROR: ",m.error),m.randomArticle&&a.a.createElement("div",{id:"tsx",className:"note"},m.randomArticle.article))),a.a.createElement("button",{className:"btn btn-primary",onClick:E},"Next"))},I=n(7),_=n(14),A=(n(33),"ARTICLE_POST_REQUEST"),N="ARTICLE_POST_SUCCESS",j="ARTICLE_POST_FAILURE",w="ARTICLE_FORM",L={postArticle:function(e){return function(t){t(function(e){return{type:A,article:e}}(e)),b.createArticle(e).then((function(e){t(function(e){return{type:N,article:e}}(e)),p.push("/")}),(function(e){t(function(e){return{type:j,error:e}}(e.toString()))}))}}};var U=function(){var e=Object(r.useState)({article:"Dear WebSite,"}),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(!1),l=Object(i.a)(o,2),s=(l[0],l[1]),m=n.article,f=Object(u.b)();return Object(r.useEffect)((function(){f({type:w})}),[]),a.a.createElement("div",{id:"form"},a.a.createElement("div",{className:" "},a.a.createElement("form",{id:"article-text",name:"form",onSubmit:function(e){e.preventDefault(),s(!0),m&&"Dear WebSite,"!==m&&(f(L.postArticle({article:m,type:"crazy"})),console.log(e.target),c({article:"Dear WebSite,"}))}},a.a.createElement("div",{className:"form-group"},a.a.createElement("textarea",{className:"note",id:"article-text",name:"article",value:m,onChange:function(e){var t=e.target,n=t.name,r=t.value;c((function(e){return Object(_.a)({},e,Object(I.a)({},n,r))}))}})),a.a.createElement("div",{className:"form-group"},a.a.createElement("button",{className:"btn btn-primary"},"Send")))))},M=n(5),k=n.n(M),x=(n(35),function(e){var t=Object(r.useState)(864e5),n=Object(i.a)(t,2),c=n[0],o=n[1];return Object(r.useEffect)((function(){c>0&&setTimeout((function(){return o(c-1e3)}),1e3)}),[c]),a.a.createElement("div",{className:"timer"},a.a.createElement("div",null,"Countdown: ",k.a.duration(c-e.startCounter,"milliseconds").format("hh:mm:ss")))}),D=(n(36),function(){return a.a.createElement("div",{className:"footer border border-1 note"},a.a.createElement("div",null,a.a.createElement("a",{href:"https://ko-fi.com/buy_me_cofee"},"Buy me a coffee on Ko-fi "),a.a.createElement("a",{href:"https://www.patreon.com/support_startup"},"\xb7Support me on Patreon")))}),F={TIMER_SUCCESS:"TIMER_SUCCESS",TIMER_REQUEST:"TIMER_REQUEST",TIMER_FAILURE:"TIMER_FAILURE"},Q={successTimer:function(){return function(e){e({type:F.TIMER_REQUEST}),O.getTimer().then((function(t){console.log(t);var n=t.data.timer[0].startTime;console.log(n);var r=new Date;console.log(r);var a=k()(r).diff(k()(n));return e(function(e){return{type:F.TIMER_SUCCESS,timer:e}}(a))}),(function(t){return e(function(e){return{type:F.TIMER_FAILURE,error:e}}(t.toString()))}))}}};var V=function(){var e=Object(u.c)((function(e){return e.timer}));console.log(e);var t=Object(u.b)();return Object(r.useEffect)((function(){t(Q.successTimer()),setInterval((function(){return t(Q.successTimer())}),6e4)}),[]),a.a.createElement("div",null,a.a.createElement("div",{id:"header",className:"full-rotate"},a.a.createElement("h1",null,"This website will self destruct ",a.a.createElement("span",null,a.a.createElement(x,{startCounter:e.timer}))),a.a.createElement(y,null)),a.a.createElement("div",{id:"header",className:"full-rotate"},a.a.createElement(U,null)),a.a.createElement("div",{id:"header",className:"full-rotate"},a.a.createElement(D,null)))};var W=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(V,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=n(3),P=n(15),B=n(16);var G=Object(J.combineReducers)({article:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return{loading:!0};case s:return{randomArticle:t.article};case m:return{error:t.error};case d:return{};default:return e}},form:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{post:!0};case N:case j:case w:return{};default:return e}},voice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{voice:t.voice};case E:return{error:t.error};default:return e}},timer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.TIMER_REQUEST:return{loading:!0};case F.TIMER_SUCCESS:return{timer:t.timer};case F.TIMER_FAILURE:return{error:t.error};default:return e}}}),H=n(17),q=Object(B.createLogger)(),z=Object(J.createStore)(G,Object(H.composeWithDevTools)(Object(J.applyMiddleware)(P.a,q)));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(u.a,{store:z},a.a.createElement(W,null)),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.21764dc1.chunk.js.map